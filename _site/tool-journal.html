<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Tools</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Tools" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/tool-journal.html" />
<meta property="og:url" content="http://localhost:4000/tool-journal.html" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Tools" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Tools","url":"http://localhost:4000/tool-journal.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/"></a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/">Home</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <style>
.wrapper {
  width: 60%;
  max-width: none;
  margin: 0 auto;
}
</style>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The industrial revolution and its consenquences &gt;:(
</code></pre></div></div>
<h2 id="alias">alias</h2>
<p>TODO
Set aliases for commands <ins>temporarily</ins>.</p>

<p><a href="https://laufeynumber1fan.github.io/addendums.html#how-to-make-aliases-permanent-in-bash-or-zsh">How to set an alias permanently in bash or zsh</a></p>

<h2 id="awk">awk</h2>
<p>TODO
<strong>Fields are represented as $N where N is position</strong><br />
1st field <code class="language-plaintext highlighter-rouge">$1</code><br />
3rd field <code class="language-plaintext highlighter-rouge">$3</code><br />
Last field <code class="language-plaintext highlighter-rouge">$NF</code><br />
Get total number of fields <code class="language-plaintext highlighter-rouge">NF</code><br />
Get all fields <code class="language-plaintext highlighter-rouge">$0</code></p>

<p><strong>Concatenate strings by putting values next to each other</strong><br />
This adds a period at the end of every line <code class="language-plaintext highlighter-rouge">awk {print $0 "."}</code></p>

<p><code class="language-plaintext highlighter-rouge">-F</code> Field separator</p>

<p>Good tutorial on awk <a href="https://learnbyexample.github.io/learn_gnuawk/awk-introduction.html">here</a>.
For interactive exercises see <a href="https://laufeynumber1fan.github.io/addendums.html#interactive-awk-exercises">addendum</a></p>

<h2 id="apt">apt</h2>
<p>TODO
Package manager for Debian, Ubuntu, Linux Mint, and Kali Linux.</p>

<h2 id="cat">cat</h2>
<p>TODO
Con<ins><b>cat</b></ins>anate files, but mainly used to display text.</p>

<p><code class="language-plaintext highlighter-rouge">--show-tabs</code> Show literal characters (for ex. whitespace is replaced with ^I)</p>

<h2 id="capinfos">capinfos</h2>
<p>TODO
Print information and properties of pcaps. Detects out of order packets.</p>

<p><code class="language-plaintext highlighter-rouge">-c</code> Display packet count.<br />
<code class="language-plaintext highlighter-rouge">-A</code> All information (does this with no given arguments).</p>

<h2 id="cksum">cksum</h2>
<p>Get checksums of file. You can choose a hashing algorithm to apply. For MD5 checksums see <a href="https://laufeynumber1fan.github.io/tool-journal.html#md5sum">md5sum</a>. MD5 is usually done for file integrity, SHA256 is used for password storage and digital certificates.</p>

<p>With no options, it does 32 bit CRC by default <code class="language-plaintext highlighter-rouge">cksum foo.exe</code><br />
Do SHA256 hash (you can also do this with &lt;a href=https://laufeynumber1fan.github.io/tool-journal.html#sha256sum&gt;sha256sum&lt;/a&gt;)<code class="language-plaintext highlighter-rouge">cksum -a sha256 foo.exe</code></p>

<h2 id="curl">curl</h2>
<p>TODO
Get file from url. Similar to wget</p>

<h2 id="cut">cut</h2>
<p>TODO</p>

<h2 id="date">date</h2>
<p>Print system date and time.</p>

<h2 id="df">df</h2>
<p>Print file system usage.</p>

<p><code class="language-plaintext highlighter-rouge">-a</code> Include hidden and duplicate file systems.
<code class="language-plaintext highlighter-rouge">-h</code> Human readable data sizes</p>

<h2 id="diff">diff</h2>
<p>TODO
Compare the files line by line.<br />
<code class="language-plaintext highlighter-rouge">diff [file1] [file2]</code></p>

<h2 id="dig">dig</h2>
<p>TODO<br />
DNS lookup utility.</p>

<h2 id="fdisk">fdisk</h2>
<p>Interactive drive partitioning.</p>

<h2 id="find">find</h2>
<p>TODO</p>

<h2 id="gpg">gpg</h2>
<p>The successor to apt-key, gpg is a keyring manager, prominently used in apt for signing packages and preventing malicious repos from installing packages. Kinda like TLS in a way.</p>

<p><code class="language-plaintext highlighter-rouge">--no-default-keyring</code> Very necessary command that prevents a new keyring into becoming a default keyring. Linux distros already have a configured default keyring so adding one is gonna add a vulnerability.
<code class="language-plaintext highlighter-rouge">--keyring file</code> Add the file to the list of keyrings<sup><a href="Used in converting tshark pdml to xml for viewing pcaps in web browsers.">1</a></sup></p>

<p>Note: Move/store keyrings (.gpg) files in <code class="language-plaintext highlighter-rouge">/usr/share/keyrings/</code></p>

<p>Example:
Initialise a new keyring from kali
Get the keyring with <a href="https://laufeynumber1fan.github.io/tool-journal.html#curl">curl</a>, save it to the correct dir<br />
<code class="language-plaintext highlighter-rouge">sudo curl https://archive.kali.org/archive-keyring.gpg -o /usr/share/keyrings/kali-archive-keyring.gpg</code><br />
Intialise it with gpg<br />
<code class="language-plaintext highlighter-rouge">gpg --no-default-keyring --keyring /usr/share/keyrings/kali-archive-keyring.gpg -k /usr/share/keyrings/kali-archive-keyring.gpg</code></p>

<p>Stackoverflow help: <a href="https://askubuntu.com/questions/1286545/what-commands-exactly-should-replace-the-deprecated-apt-key/1307181#1307181">What commands exactly should replace the deprecated apt-key?</a></p>

<h2 id="grep">grep</h2>
<p>TODO</p>

<h2 id="gunzip">gunzip</h2>
<p>Unzip <code class="language-plaintext highlighter-rouge">.gz</code> files, but if you want to unzip <code class="language-plaintext highlighter-rouge">.tar.gz</code>, use <code class="language-plaintext highlighter-rouge">tar</code>.
<code class="language-plaintext highlighter-rouge">gunzip [foo.gz]</code></p>

<h2 id="ifconfig">ifconfig</h2>
<p>TODO</p>

<h2 id="ip">ip</h2>
<p>TODO
Show and change ip configuration.</p>

<p><code class="language-plaintext highlighter-rouge">-a</code> Display all ip configuration</p>

<h2 id="jobs">jobs</h2>
<p>You can “pause” shell commands with <code class="language-plaintext highlighter-rouge">Ctrl + Z</code> which is then placed on a backlog of <code class="language-plaintext highlighter-rouge">jobs</code>. This allows you to execute a different command on the same shell while saving the current state of the paused command.</p>

<p><code class="language-plaintext highlighter-rouge">jobs</code> To see current backlog.
<code class="language-plaintext highlighter-rouge">fg %N</code> Resume a process with N as the process number found in <code class="language-plaintext highlighter-rouge">jobs</code>. This brings it to the foreground in the shell.<br />
<code class="language-plaintext highlighter-rouge">bg %N</code> Resume a process with N as the process number. This resumes the process but it executes in the background.</p>

<p>See also: <a href="https://www.redhat.com/en/blog/jobs-bg-fg">Red Hat blog</a></p>

<h2 id="jq">jq</h2>
<p>TODO
Used for parsing json files. Good synergy with zeek json logs.</p>

<h2 id="locate">locate</h2>
<p>Aka <code class="language-plaintext highlighter-rouge">plocate</code>. Find file names quickly. Kinda like <a href="https://laufeynumber1fan.github.io/tool-journal.html#find">find</a> but less bulky.
<code class="language-plaintext highlighter-rouge">locate [filename]</code></p>

<p><code class="language-plaintext highlighter-rouge">-i</code> ignore-case.<br />
<code class="language-plaintext highlighter-rouge">--regex</code> apply regex.</p>

<h2 id="less">less</h2>
<p>Used for displaying long cmdline outputs</p>

<p>Cmdline args:<br />
<code class="language-plaintext highlighter-rouge">-S</code> Really useful when a line of text is too long. -S prevents the line wrapping.<br />
<code class="language-plaintext highlighter-rouge">-x</code> Adjusts the number of spaces for every <code class="language-plaintext highlighter-rouge">\t</code>. For ex. <code class="language-plaintext highlighter-rouge">less -x40</code> means 40 spaces for every tab.</p>

<p>Inside the shell:<br />
How to search: <code class="language-plaintext highlighter-rouge">/PATTERN</code> and then press <code class="language-plaintext highlighter-rouge">n</code> to iterate from next or <code class="language-plaintext highlighter-rouge">Shift + n (Uppercase N)</code> to iterate previously.<br />
<code class="language-plaintext highlighter-rouge">g</code> Jump to first line<br />
<code class="language-plaintext highlighter-rouge">G</code> Jump to last line<br />
<code class="language-plaintext highlighter-rouge">f</code> Forward one window<br />
<code class="language-plaintext highlighter-rouge">b</code> Backward one window<br />
<code class="language-plaintext highlighter-rouge">d</code> Forward one half-window<br />
<code class="language-plaintext highlighter-rouge">u</code> Backward one half-window</p>

<p>TROUBLESHOOTING</p>

<p>Screen full of <code class="language-plaintext highlighter-rouge">~</code> and (END):<br />
If <code class="language-plaintext highlighter-rouge">less</code> is not showing anything and the whole screen is just <code class="language-plaintext highlighter-rouge">~</code> then that means the piped command may have outputted to <code class="language-plaintext highlighter-rouge">stderr</code> and not <code class="language-plaintext highlighter-rouge">stdout</code>.<br />
For example, the command <code class="language-plaintext highlighter-rouge">tshark -z help</code> displays the help command for <code class="language-plaintext highlighter-rouge">-z</code> but the help info is considered an error message. When you pipe this command to <code class="language-plaintext highlighter-rouge">less</code> nothing gets displayed. 
Do <code class="language-plaintext highlighter-rouge">2&gt;&amp;1</code> to change the console <code class="language-plaintext highlighter-rouge">std</code> to <code class="language-plaintext highlighter-rouge">out</code> and not <code class="language-plaintext highlighter-rouge">err</code>.<br />
<code class="language-plaintext highlighter-rouge">tshark -z help 2&gt;&amp;1 | less</code></p>

<h2 id="ls">ls</h2>
<p>List files in directory.</p>

<p>List<br />
<code class="language-plaintext highlighter-rouge">-a</code> List all files, including hidden files and . &amp; .. dirs.<br />
<code class="language-plaintext highlighter-rouge">-A</code> Same as <code class="language-plaintext highlighter-rouge">-a</code> but without . and .. dirs.<br />
<code class="language-plaintext highlighter-rouge">-1</code> List filenames one by one but don’t add additional info.<br />
<code class="language-plaintext highlighter-rouge">-R</code> List subdirs recursively.</p>

<p>Sort<br />
<code class="language-plaintext highlighter-rouge">-r</code> Reverse sort.<br />
<code class="language-plaintext highlighter-rouge">-t</code> Time sort</p>

<p>Size<br />
<code class="language-plaintext highlighter-rouge">-S</code> Sort by file size.<br />
<code class="language-plaintext highlighter-rouge">-s</code> Include size of each file but not human readable.<br />
<code class="language-plaintext highlighter-rouge">-h</code> with <code class="language-plaintext highlighter-rouge">-s</code>, make it human readable sizes.</p>

<h2 id="man">man</h2>
<p>TODO
Used for getting help manuals of a command. Opens a <code class="language-plaintext highlighter-rouge">less</code> of the manual’s txt file.</p>

<h2 id="md5sum">md5sum</h2>
<p>Get MD5 hash of a file.</p>

<p>Get hash of file <code class="language-plaintext highlighter-rouge">md5sum foo.exe</code>
Get hash of files in the current directory <code class="language-plaintext highlighter-rouge">md5sum *</code></p>

<h2 id="mkswap">mkswap</h2>
<p>Make a drive into a swap partition. Used in addition to <a href="https://laufeynumber1fan.github.io/tool-journal.html#swapon">swapon</a>.</p>

<h2 id="mount">mount</h2>
<p>Mount partitioned disks<br />
<code class="language-plaintext highlighter-rouge">--mkdir</code> Generate a named directory for the drive</p>

<h2 id="nano">nano</h2>
<p>TODO
Text editor (not installed by default on bash, however <a href="https://laufeynumber1fan.github.io/tool-journal.html#vi">vi</a> is!)</p>

<h2 id="nc">nc</h2>
<p>TODO<br />
Netcat. Multi-tool for anything TCP/UDP/IP. Legacy tool succeeded by <a href="https://laufeynumber1fan.github.io/tool-journal.html#ncat">ncat</a>.</p>

<p>In case the shell invokes <code class="language-plaintext highlighter-rouge">nc</code> as <code class="language-plaintext highlighter-rouge">ncat</code> , use <code class="language-plaintext highlighter-rouge">/bin/nc.traditional</code></p>

<p><code class="language-plaintext highlighter-rouge">-z</code> simple port scan.</p>

<h2 id="ncat">ncat</h2>
<p><code class="language-plaintext highlighter-rouge">ncat</code> is not the same as <a href="https://laufeynumber1fan.github.io/tool-journal.html#nc">nc</a>. <code class="language-plaintext highlighter-rouge">ncat</code> is part of the nmap suite of tools with more functionality. <code class="language-plaintext highlighter-rouge">nc</code> is the legacy tool but means it is most likely installed/packaged on distros by default while <code class="language-plaintext highlighter-rouge">ncat</code> is not.</p>

<p>still TODO</p>

<p><code class="language-plaintext highlighter-rouge">-c 'foo'</code> Execute something upon connection.<br />
<code class="language-plaintext highlighter-rouge">-k</code> Keep-open connection upon doing something. Also allow multiple connections.<br />
<code class="language-plaintext highlighter-rouge">-z</code> does nothing.<sup><a href="Used in converting tshark pdml to xml for viewing pcaps in web browsers.">1</a></sup>
<code class="language-plaintext highlighter-rouge">-v</code> Verbose.</p>

<p>Example:<br />
Make port 8000 to listen for <code class="language-plaintext highlighter-rouge">ncat</code> connections:<br />
<code class="language-plaintext highlighter-rouge">ncat -l localhost 8000</code></p>

<p>On a different shell, connect to port 8000:<br />
<code class="language-plaintext highlighter-rouge">ncat 8000</code></p>

<p>Further reading:
<a href="https://laufeynumber1fan.github.io/addendums.html#simple-backdoor-with-ncat">Simple backdoor with ncat</a>
<a href="https://laufeynumber1fan.github.io/addendums.html#z-in-ncat-vs-nc">-z in ncat vs nc</a></p>

<p>Practice tool in:<br />
linuxzoo.net <a href="https://linuxzoo.net/page/lab_kali2024-4/wk01c.html">1c</a> and <a href="https://linuxzoo.net/page/lab_kali2024-4/wk04a.html">4a</a></p>

<h2 id="nmap">nmap</h2>
<p>TODO
Port scanner.</p>

<p><code class="language-plaintext highlighter-rouge">-p</code> Scan one or a range of ports or all ports. Ex. <code class="language-plaintext highlighter-rouge">-p 1-1000</code>,  for all ports <code class="language-plaintext highlighter-rouge">-p-</code></p>

<h2 id="openssl">openssl</h2>
<p>TODO
A tool for everything ssl/tls. Can be used to connect with SSL encryption, generate digital certs, etc. This tool has a ton of subcommands.</p>

<p><strong>s_client</strong>
Connect as a client to a host/server using SSL/TLS. <code class="language-plaintext highlighter-rouge">man openssl-s_client</code><br />
<code class="language-plaintext highlighter-rouge">-connect [host:port]</code><br />
<code class="language-plaintext highlighter-rouge">-quiet</code> Supresses session information. Also enters the openssl into a “basic command” mode. See CONNECTED COMMANDS (BASIC) in s_client man page.</p>

<p>Basic ex. <code class="language-plaintext highlighter-rouge">openssl s_client -connect localhost:1001</code></p>

<h2 id="pacstrap">pacstrap</h2>
<p>TODO
Package manager for ArchLinux distros.</p>

<h2 id="parted">parted</h2>
<p>Shell-based drive partitioning</p>

<h2 id="ping">ping</h2>
<p>TODO</p>

<h2 id="rm">rm</h2>
<p>Remove files, directories, etc…</p>

<p><code class="language-plaintext highlighter-rouge">-d</code> Delete empty dirs.
<code class="language-plaintext highlighter-rouge">-f</code> Force file deletion, no confirmation or logging
<code class="language-plaintext highlighter-rouge">-i</code> Prompt yes/no for every file<br />
<code class="language-plaintext highlighter-rouge">-I</code> Prompt yes/no for every 3 files<br />
<code class="language-plaintext highlighter-rouge">-r</code> Recursively delete files in dir and then delete the dir itself (you can also remove folders with <a href="https://laufeynumber1fan.github.io/tool-journal.html#rmdir">rmdir</a>) 
<code class="language-plaintext highlighter-rouge">-v</code> Verbose</p>

<p><strong><u>Examples</u></strong><br />
<code class="language-plaintext highlighter-rouge">rm foo.txt</code> Delete file<br />
<code class="language-plaintext highlighter-rouge">rm ../foo.txt</code> Delete file in parent directory<br />
<code class="language-plaintext highlighter-rouge">rm -fvr foobar</code> Force delete everything inside foobar</p>

<h2 id="rmdir">rmdir</h2>
<p>TODO
Remove folder(s)</p>

<h2 id="route">route</h2>
<p>TODO
Show and change routing table</p>

<h2 id="sed">sed</h2>
<p>TODO</p>

<h2 id="sha256sum">sha256sum</h2>
<p>Get sha256 hash.</p>

<p>Get hash of a file <code class="language-plaintext highlighter-rouge">sha256sum foo.txt</code><br />
Get hash of files in the current directory <code class="language-plaintext highlighter-rouge">sha256sum *</code></p>

<h2 id="sfdisk">sfdisk</h2>
<p>Non-interactive drive partitioning (like fdisk).</p>

<h2 id="sort">sort</h2>
<p><code class="language-plaintext highlighter-rouge">-n</code> Numeric sort<br />
<code class="language-plaintext highlighter-rouge">-t -k</code> Sort based on values from a different column<sup><a href="Used in converting tshark pdml to xml for viewing pcaps in web browsers.">1</a></sup><br />
<code class="language-plaintext highlighter-rouge">-r</code> Reverse sort<br />
<code class="language-plaintext highlighter-rouge">-u</code> Unique-only (remove duplicates)<br />
<code class="language-plaintext highlighter-rouge">-T</code> Specify tmp directory<sup><a href="With really big outputs, `sort` may not have enough space inside it's tmp directory to actually do sorting. Do `-T .` to specify the current directory to be used as temp space.">2</a></sup></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1: Mark
2: James
3: Matthew
4: Simon
5: Peter
6: Andrew
</code></pre></div></div>
<p>Use this to sort the names on the 2nd column <code class="language-plaintext highlighter-rouge">sort -t: -k2 foo.txt</code></p>

<h2 id="ss">ss</h2>
<p>Dump <strong>s</strong>ocket <strong>s</strong>tatistics. Use as superuser to reveal process information.</p>

<p><code class="language-plaintext highlighter-rouge">-t</code> Display tcp ports.<br />
<code class="language-plaintext highlighter-rouge">-u</code> Display udp ports.<br />
<code class="language-plaintext highlighter-rouge">-a</code> Display both listening and non-listening.<br />
<code class="language-plaintext highlighter-rouge">-l</code> Listening ports only.<br />
<code class="language-plaintext highlighter-rouge">-B</code> Bound/connecting ports only.<br />
<code class="language-plaintext highlighter-rouge">-e</code> Show extended info.<br />
<code class="language-plaintext highlighter-rouge">-n</code> Don’t resolve names. Port numbers and IP addresses only.</p>

<p>Examples:<br />
<code class="language-plaintext highlighter-rouge">ss</code><br />
<code class="language-plaintext highlighter-rouge">sudo ss -tua | grep 'http'</code><br />
<code class="language-plaintext highlighter-rouge">sudo ss -tuaen</code></p>

<h2 id="ssh">ssh</h2>
<p>OpenSSH client.<br />
<code class="language-plaintext highlighter-rouge">ssh user@host</code><sup><a href="Used in converting tshark pdml to xml for viewing pcaps in web browsers.">1</a></sup></p>

<p><code class="language-plaintext highlighter-rouge">-p</code> Specify a port (default is 22).
<code class="language-plaintext highlighter-rouge">-l</code> Specify a user (2nd method).
<code class="language-plaintext highlighter-rouge">-i</code> Specify an identity file, a .key file that contains a SSH private key.</p>

<h2 id="stty">stty</h2>
<p>Funny terminal settings commands</p>

<p>For example do <code class="language-plaintext highlighter-rouge">stty -icrnl</code> to disable the ENTER button to translate to a newline in terminal. <code class="language-plaintext highlighter-rouge">stty icrnl</code> to reenable. Read the man pages.</p>

<h2 id="swapon">swapon</h2>
<p>Adds a swap partitions to <code class="language-plaintext highlighter-rouge">/etc/fstab</code> to mount it.</p>

<p><code class="language-plaintext highlighter-rouge">--show</code> Print swap partitions</p>

<h2 id="tar">tar</h2>
<p>Archive tool that compresses or decompresses folders. Makes tarballs.</p>

<p><code class="language-plaintext highlighter-rouge">-c</code> Create tar archive<br />
<code class="language-plaintext highlighter-rouge">-z</code> Apply gunzip while compressing or decompressing. Use for <code class="language-plaintext highlighter-rouge">.gz</code> extensions<br />
<code class="language-plaintext highlighter-rouge">-v</code> Verbose<br />
<code class="language-plaintext highlighter-rouge">-f</code> File/Folder name<br />
<code class="language-plaintext highlighter-rouge">-x</code> Decompress archives</p>

<p>Examples:
Make tar.gz <code class="language-plaintext highlighter-rouge">tar -czvf [tar.gz name] [folder/file you want to tar]</code><br />
Extract tar.gz <code class="language-plaintext highlighter-rouge">tar -xzvf foo.tar.gz</code></p>

<h2 id="tcpdump">tcpdump</h2>
<p>Cmdline pcap analyser, similar to tshark but lightweight. Has simpler filters.<br />
<strong>Uses <a href="https://www.tcpdump.org/manpages/pcap-filter.7.html">capture filters</a> for reading and capturing pcaps</strong></p>

<p><code class="language-plaintext highlighter-rouge">-r</code> Read pcap.<br />
<code class="language-plaintext highlighter-rouge">-c [n]</code> Limit output to n number of packets.<br />
<code class="language-plaintext highlighter-rouge">-tttt</code> Switch time to UTC.<br />
<code class="language-plaintext highlighter-rouge">-tt</code> Switch time to epoch.<br />
<code class="language-plaintext highlighter-rouge">--time-stamp-precision</code> With <code class="language-plaintext highlighter-rouge">-tt</code> set decimal places.<sup><a href="Used in converting tshark pdml to xml for viewing pcaps in web browsers.">1</a></sup><br />
<code class="language-plaintext highlighter-rouge">-n</code> Don’t convert IPs to hostnames.<br />
<code class="language-plaintext highlighter-rouge">-X</code> Print ASCII and hex of payloads. 
<code class="language-plaintext highlighter-rouge">-e</code> Print link level/ethernet packet header.
<code class="language-plaintext highlighter-rouge">-w</code> Make pcap from packets captured by filter.</p>

<p>Only DNS packets <code class="language-plaintext highlighter-rouge">tcpdump -r foo.pcap port 53</code><br />
Exclude outgoing (dst) DNS connections <code class="language-plaintext highlighter-rouge">tcpdump -r foo.pcap not dst port 53</code><br />
Combination of filters <code class="language-plaintext highlighter-rouge">tcpdump -r foo.pcap not port 53 and not port 22</code>
Specific source IP <code class="language-plaintext highlighter-rouge">tcpdump -r foo.pcap src 192.168.0.1</code>
Combination of filter and args <code class="language-plaintext highlighter-rouge">tcpdump -r foo.pcap -ttttnXc 5 port 80</code></p>

<p>Further reading:<br />
<a href="https://laufeynumber1fan.github.io/addendums.html#digest-big-pcaps">Digest big pcaps</a></p>

<h2 id="tr">tr</h2>
<p>Translate, replace, delete characters. Applies translations line by line.</p>

<p>Replace tabs into new lines <code class="language-plaintext highlighter-rouge">cat conn.log | zeek-cut id.orig_h id.resp_h | tr '\t' '\n' | sort | uniq | wc -l</code><br />
Lowercase to uppercase <code class="language-plaintext highlighter-rouge">echo "hello world" | tr 'a-z' 'A-Z'</code><br />
Reverse pipe <code class="language-plaintext highlighter-rouge">tr " " "\t" &lt; input.txt</code><br />
If a text has inconsistent spaces, use <code class="language-plaintext highlighter-rouge">-s</code> to squeeze repeated instances into a single translation <code class="language-plaintext highlighter-rouge">tr -s " " "\t" &lt; input.txt</code></p>

<h2 id="tshark">tshark</h2>
<p>Cmdline wireshark, wireshark filters are processed as cmdline arguments.<br />
<strong>Only uses <a href="https://www.tcpdump.org/manpages/pcap-filter.7.html">capture filters</a> for capturing pcaps <code class="language-plaintext highlighter-rouge">-f</code>. Only uses display filters<sup>refs:<a href="https://www.wireshark.org/docs/man-pages/wireshark-filter.html">1, </a></sup><sup><a href="https://www.wireshark.org/docs/dfref/">2, </a></sup><sup><a href="https://tshark.dev/setup/">3</a></sup> for reading pcaps <code class="language-plaintext highlighter-rouge">-Y</code>.</strong></p>

<p><code class="language-plaintext highlighter-rouge">-f</code> Capture packets with pcap-filters/tcpdump expressions.<br />
<code class="language-plaintext highlighter-rouge">-Y</code> Apply <a href="https://www.wireshark.org/docs/dfref/">display filters</a><sup><a href="Used in converting tshark pdml to xml for viewing pcaps in web browsers.">1</a></sup>.<br />
<code class="language-plaintext highlighter-rouge">-T</code> Specify different output formats like <code class="language-plaintext highlighter-rouge">json</code>, <code class="language-plaintext highlighter-rouge">text</code>, <code class="language-plaintext highlighter-rouge">fields</code><sup><a href="Used in converting tshark pdml to xml for viewing pcaps in web browsers.">1</a></sup>, etc.<br />
<code class="language-plaintext highlighter-rouge">-D</code> Lists all available interfaces to listen for traffic.<br />
<code class="language-plaintext highlighter-rouge">-V</code> Display all packet information verbosely. Use injunction with <code class="language-plaintext highlighter-rouge">-Y</code><sup><a href="With really big outputs, `sort` may not have enough space inside it's tmp directory to actually do sorting. Do `-T .` to specify the current directory to be used as temp space.">2</a></sup>.<br />
<code class="language-plaintext highlighter-rouge">-n</code> Disable name resolution.<br />
<code class="language-plaintext highlighter-rouge">-N</code> Name resolving options<sup><a href="Specify name resolution options, by default tshark already does `-N dmN`. However `-N dmn` is probably more useful when reading pcaps because it will get name resolution from the DNS packets inside the pcap instead of external resolution (`-N N`) does this.">4</a></sup>.<br />
<code class="language-plaintext highlighter-rouge">-q</code> Be more quiet, ideally use with <code class="language-plaintext highlighter-rouge">-z</code>.<br />
<code class="language-plaintext highlighter-rouge">-x</code> Display hex &amp; ASCII dump.<br />
<code class="language-plaintext highlighter-rouge">-E</code> Display options for headers when using <code class="language-plaintext highlighter-rouge">-T</code><sup>[3]</sup>.<br />
<code class="language-plaintext highlighter-rouge">--export-objects</code> Export files in tshark, makes a separate directory.<sup>[5]</sup></p>

<p>Advanced help:<br />
<code class="language-plaintext highlighter-rouge">-G</code> Prints every wireshark filter. Use injunction with <code class="language-plaintext highlighter-rouge">egrep "\sPATTERN\." | less -Sx40</code>.<br />
<code class="language-plaintext highlighter-rouge">-G help</code> more info.<br />
<code class="language-plaintext highlighter-rouge">-G protocols</code> Find abbreviations of protocols.</p>

<p>Statistics:<br />
<code class="language-plaintext highlighter-rouge">-z</code> Protocol Hierarchy<br />
<code class="language-plaintext highlighter-rouge">-z help | less</code> Display help</p>

<p><ins>Examples</ins>:<br />
[1b]: Display only dns queries <code class="language-plaintext highlighter-rouge">tshark -r foo.pcap -Y "dns.flags.response == 0" -T fields -e dns.qry.name</code><br />
[2a]: To display packet 100 verbosely <code class="language-plaintext highlighter-rouge">tshark -r foo.pcap -Y frame.number==100 -V</code><br />
[2b]: To display a specific tcp stream versbosely <code class="language-plaintext highlighter-rouge">tshark -r foo.pcap -Y "tcp.stream eq 0" -V</code><br />
[3]: Add header fields for custom columns <code class="language-plaintext highlighter-rouge">tshark -r foo.pcap -E header=y -T fields -e ip.src -e ip.dst -e ip.proto -c 5 | less -sX40</code><br />
[5]: Export http files, exports it to a dir called files <code class="language-plaintext highlighter-rouge">tshark -r foo.pcap --export-objects http,files</code></p>

<p>Filter for TCP SYN packets then show src and dst ip with dst ports of the connection then sort for most connections <code class="language-plaintext highlighter-rouge">tshark -r foo.pcap -Y tcp.flags==2 -T fields -e ip.src -e ip.dst -e tcp.dstport | sort | uniq -c | sort -n</code><br />
Filter http content-length which is useful for seeing payload sizes <code class="language-plaintext highlighter-rouge">tshark -r foo.pcap -Y http -T fields -e frame.number -e http.content_length</code><br />
View filter documentation in terminal <code class="language-plaintext highlighter-rouge">tshark -G | egrep '\sip\.' | less -S -x40</code><br />
Find tcp stream number of tcp data payloads <code class="language-plaintext highlighter-rouge">tshark -r foo.pcap -Y tcp.completeness==7 -T fields -e http.request.uri -e tcp.stream | less</code>
Follow tcp stream 0 data payload <code class="language-plaintext highlighter-rouge">tshark -r foo.pcap -qz follow,tcp,ascii,0</code></p>

<h2 id="vi">vi</h2>
<p>Antediluvian text editor, installed by default basically everywhere. Very interesting history lesson by itself.<br />
Use <code class="language-plaintext highlighter-rouge">vimtutor</code> for a complete crash course.</p>

<p><code class="language-plaintext highlighter-rouge">h, j, k, l</code> Move cursor left, bottom, top, or right.<br />
<code class="language-plaintext highlighter-rouge">:q</code> Quit.<br />
<code class="language-plaintext highlighter-rouge">:q!</code> Force quit.<br />
<code class="language-plaintext highlighter-rouge">:wq</code> Write and quit.<br />
<code class="language-plaintext highlighter-rouge">y</code> Copy text (yank).<br />
<code class="language-plaintext highlighter-rouge">p</code> Paste text.<br />
<code class="language-plaintext highlighter-rouge">ESC</code> Go to command mode.<br />
<code class="language-plaintext highlighter-rouge">v</code> Go to visual mode (selects text so use it with y).<br />
<code class="language-plaintext highlighter-rouge">i</code> Go to insert mode.<br />
<code class="language-plaintext highlighter-rouge">a</code> Go to insert mode but append.<br />
<code class="language-plaintext highlighter-rouge">o</code> Go to insert mode but on a new line.<br />
<code class="language-plaintext highlighter-rouge">dd</code> Delete current line.<br />
<code class="language-plaintext highlighter-rouge">/</code> Search ahead; n for next occurrence, N for previous occurrance.<br />
<code class="language-plaintext highlighter-rouge">?</code> Same as / but it searches patterns behind the cursor.<br />
<code class="language-plaintext highlighter-rouge">u</code> Undo.<br />
<code class="language-plaintext highlighter-rouge">U</code> Undo the entire line.<br />
<code class="language-plaintext highlighter-rouge">Ctrl + r</code> Redo.<br />
<code class="language-plaintext highlighter-rouge">r</code> Replace char on cursor.</p>

<p>MOTIONS - moves the cursor but can be combined with commands.<br />
<code class="language-plaintext highlighter-rouge">w</code> jump to the next word, selecting its 1st char.<br />
<code class="language-plaintext highlighter-rouge">e</code> until the end of the current word without selecting the next word.<br />
<code class="language-plaintext highlighter-rouge">$</code> go to the end of the current line.<br />
<code class="language-plaintext highlighter-rouge">2, 3, 4</code> Numbers specify repeats of the same motion<sup><a href="Used in converting tshark pdml to xml for viewing pcaps in web browsers.">1</a></sup>.</p>

<p><ins>Examples</ins><br />
<code class="language-plaintext highlighter-rouge">:help wq</code> To get help on a specific command, this one is for wq. This actually opens a 2nd instance of vi, so you use <code class="language-plaintext highlighter-rouge">:q</code> to get out of help.<br />
<a href="Used in converting tshark pdml to xml for viewing pcaps in web browsers.">1</a>: <code class="language-plaintext highlighter-rouge">2w</code> Jump 2 words, <code class="language-plaintext highlighter-rouge">3$</code> Go to the end of current line + jump 2 lines.<br />
<a href="With really big outputs, `sort` may not have enough space inside it's tmp directory to actually do sorting. Do `-T .` to specify the current directory to be used as temp space.">2</a>:</p>

<h2 id="ufw">ufw</h2>
<p>Linux netfilter firewall. Installed by default on ubuntu.</p>

<p><code class="language-plaintext highlighter-rouge">ufw disable</code> Turn off and disabled on startup.<br />
<code class="language-plaintext highlighter-rouge">ufw enable</code> Turn on.</p>

<h2 id="uname">uname</h2>
<p>Print OS info</p>

<p><code class="language-plaintext highlighter-rouge">-a</code> Print all info</p>

<h2 id="uniq">uniq</h2>
<p>TODO<br />
Filter ADJACENT matching lines and merges those repeating lines into 1. It’s not magic, it’s a compression algorithm.<br />
<code class="language-plaintext highlighter-rouge">-c</code> Adds a column for the number of occurrances of the value</p>

<h2 id="whereis">whereis</h2>
<p>Print path locations of command aliases</p>

<h2 id="whois">whois</h2>
<p>whois lookup on command line.</p>

<p><code class="language-plaintext highlighter-rouge">-H</code> Hide legal disclaimers.</p>

<p>Example: <code class="language-plaintext highlighter-rouge">whois google.com | less</code></p>

<h2 id="xargs">xargs</h2>
<p>TODO</p>

<h2 id="xmllint">xmllint</h2>

<p>Check an xml file for format errors<sup><a href="https://laufeynumber1fan.github.io/tool-journal.html#tshark">[1]</a></sup> <code class="language-plaintext highlighter-rouge">xmllint foo.xml --noout</code></p>

<p><a href="https://codecademy.com"><img src="/assets/images/codey.jpg" alt="" title="Kali Linux" /></a></p>
<h2 id="xprobe2">xprobe2</h2>

<h2 id="xsltproc">xsltproc</h2>

<p>Apply an XSLT stylesheet to an XML to convert it to html <code class="language-plaintext highlighter-rouge">xsltproc foo.xsl foo.xml &gt; foo.html</code><br />
Get the XLST stylesheet from wireshark and apply it to an XML<sup><a href="https://laufeynumber1fan.github.io/tool-journal.html#tshark">[1]</a></sup> <code class="language-plaintext highlighter-rouge">xsltproc /usr/share/wireshark/pdml2html.xsl foo.xml &gt; foo.html</code></p>

<h2 id="xxd">xxd</h2>

<p>Get hex of output</p>

<p><code class="language-plaintext highlighter-rouge">-p</code> remove offset</p>

<p>Get hex of “hello world” <code class="language-plaintext highlighter-rouge">echo -n "hello world" | xxd</code>
Without format, get hex of “hello world” <code class="language-plaintext highlighter-rouge">echo -n "hello world" | xxd -p</code></p>

<h2 id="zeek">zeek</h2>
<p><a href="https://laufeynumber1fan.github.io/addendums.html#installing-zeek">How to install</a></p>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading"></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name"></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
